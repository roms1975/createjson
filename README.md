# createjson
Тестовое задание Оптимакрос

oop_start.php - выполняемы скрипт, CreateJson.php - подключаемый класс. Алгоритм такой, сначала читаем входной файл input.csv построчно и создам три массива для более удобного доступа к нужным узлам по идентификатору. Первый массив - $all_nodes в качестве ключей содержит идентификаторы всех узлов, в качестве значений - ключ parent (идентификатор родителя) и, если существует соответствующее значение в исходной таблице, ключ relation - ссылка на поддерево. Второй массив $childs содержит в качестве ключей идентификаторы родительских узлов, в качестве значений - массив идентификаторов дочерних узлов. В массиве $roots собраны корневые узлы, с которых начинается соответсвующая ветка. В классе CreateJson реализована рекурсивная ф-ция, собирающая ветку на основе переданных массивов $all_nodes и $childs.
